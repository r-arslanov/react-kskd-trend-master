{"version":3,"sources":["lib/Rest.js","components/DpList.js","components/DropDownList.js","components/ObjList.js","components/Loader.js","img/short-paragraph.png","components/SideBar.js","components/TimePicker.js","components/Trends_zoom_and_pointer.js","components/Trends_multiple_in_one_chart.js","components/ContenDiv.js","App.js","reportWebVitals.js","index.js"],"names":["_Rest","cbTypes","fetch","method","then","raw","json","response","catch","e","console","log","message","alert","kust","type","url","encodeURI","dateStart","dateEnd","dps","parseInt","getTime","forEach","dp","index","encodeURIComponent","DpList","className","List","selection","verticalAlign","this","props","data","map","Item","Content","Checkbox","label","text","checked","enabled","onChange","key","Component","DropdownSelection","Dropdown","placeholder","fluid","options","ObjList","myRef","React","createRef","moveFocus","propsData","current","addEventListener","active","document","activeElement","keyCode","nextSibling","focus","tabIndex","value","previousSibling","ref","onClick","Header","LoaderCircle","Segment","Dimmer","inverted","Loader","Image","src","SideBar","state","types","kusts","objects","object","needUpdate","needTransfer","setState","temp","Rest","getKusts","getTypes","getObjects","transData","push","transferData","length","DropDownList","updKust","updType","updObject","updSelected","TimePicker","format","disableClock","disabled","clearIcon","Trends","createChart","d","width","height","allKeys","margin","n","locale","d3","formatMillisecond","formatSecond","formatMinute","formatHour","formatDay","formatWeek","formatMonth","formatYear","formatFocusTextDate","svg","append","attr","left","right","top","bottom","x","domain","date","range","y","xAxis","call","tickFormat","multiFormat","color","ticks","bisect","param","idleTimeout","style","focusText","brush","on","event","x0","invert","i","SelectedData","html","extent","line","select","move","setTimeout","idled","transition","duration","curve","datum","updateChart","a","b","window","innerWidth","innerHeight","selectAll","remove","contentH","node","getBoundingClientRect","contentW","test","Date","sort","sortByDateAscending","sumstat","Map","entries","Set","size","get","id","createCharts","legendName","colorM","join","enter","mouseG","lines","getElementsByClassName","mousePerLine","name","mouse","target","pos","xDate","beginning","values","end","getTotalLength","Math","floor","getPointAtLength","toFixed","ContentDiv","dropDownData","setMilliseconds","getMilliseconds","clearInterval","interval","getHistory","setInterval","updateStates","setHours","getHours","setMinutes","getMinutes","setTime","Button","content","path","element","App","useState","setdata","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.a50bc077.chunk.js","sourcesContent":["\r\nclass Rest{\r\n\r\n    //Забираем с сервера список кустов    \r\n    getKusts(cbTypes){\r\n        let url = \"https://192.168.30.103/getKusts\";\r\n            fetch(url,{\r\n                method: \"GET\"\r\n            }).then(raw =>{\r\n                return raw.json();\r\n            }).then(response=>{\r\n                cbTypes(response);\r\n            }).catch((e) => {console.log('getKusts Error: ' + e.message); return alert(\"Невозможно считать список кустов!\")});\r\n    };\r\n\r\n    //Забираем с сервера типы объектов (СУЭЦН, ГЗУ, АИ и т.д.)\r\n    getTypes(cbTypes){\r\n        let url = \"https://192.168.30.103/getTypes\";\r\n        //192.168.30.103\r\n            fetch(url,{\r\n                method: \"GET\"\r\n            }).then(raw =>{\r\n                return raw.json();\r\n            }).then(response=>{\r\n                cbTypes(response);\r\n            }).catch((e) => {console.log('Error: ' + e.message); return alert(\"Невозможно считать типы объектов!\")});\r\n    };\r\n\r\n    //Забираем с сервера список объектов типа объекта (см getTypes)\r\n    getObjects(kust, type, cbTypes){\r\n        let url = \"https://192.168.30.103/getObjects?\";\r\n        url += \"kust=\" + encodeURI(kust);\r\n        url += \"&type=\" + encodeURI(type);\r\n        fetch(url,{\r\n            method: \"GET\"\r\n        }).then(raw =>{\r\n            return raw.json();\r\n        }).then(response=>{\r\n            cbTypes(response);\r\n        }).catch((e) => console.log('Error: ' + e.message));\r\n        };\r\n\r\n    getHistory(kust, dateStart, dateEnd, dps, cbTypes){\r\n            let url = \"https://192.168.30.103/getHistory?\";\r\n            url += \"sys=\" + encodeURI(kust + \":\");\r\n            url += \"&start=\" + encodeURI(parseInt(dateStart.getTime()/1000));\r\n            url += \"&end=\" + encodeURI(parseInt(dateEnd.getTime()/1000));\r\n            dps.forEach((dp, index) => {\r\n                url += \"&dp\" + index + \"=\" + encodeURIComponent(dp)\r\n            });\r\n            console.log(\"URL\", url);\r\n            fetch(url,{\r\n                method: \"GET\"\r\n            }).then(raw =>{\r\n                return raw.json();\r\n            }).then(response=>{\r\n                cbTypes(response);\r\n                console.log(\"DATA FROM KASKAD\", response);\r\n            }).catch((e) => {\r\n                console.log('Error: ' + e.message);\r\n            });\r\n    };\r\n}\r\n\r\nconst _Rest = new Rest();\r\nexport { _Rest as Rest };","import React, {Component} from 'react';\nimport { Checkbox } from 'semantic-ui-react'\nimport { List } from 'semantic-ui-react'\nimport './../styles/DpList.css';\n\nexport default class DpList extends Component{\n\n\trender(){\n\t\treturn(\n\t\t\t<div className=\"DpListContainer\">\n\t\t\t\t<List selection verticalAlign='middle'>\n\t\t\t\t\t{this.props.data.map((dp, index) => <List.Item key={ dp.key }><List.Content><Checkbox label={ dp.text } checked={ dp.enabled } onChange={() => this.props.onChange(dp.key)} /></List.Content></List.Item> )}\n\t\t\t\t\t{/* {this.state.names.map((dp, index) => <li key={index}> <input type=\"checkbox\" checked={this.state.names[index].enabled} onChange={() => this.updChecked(index)}/> {dp.name} </li> )} */}\n\t\t\t\t</List>\n\t\t\t</div>\n\t\t);\n\t}\n}","import React from 'react'\r\nimport { Dropdown } from 'semantic-ui-react'\r\n\r\nconst DropdownSelection = (props) => (\r\n  <div className=\"DDList\">\r\n    <Dropdown\r\n      onChange={props.onChange}\r\n      placeholder={props.label}\r\n      fluid\r\n      selection\r\n      options={props.data}\r\n    />\r\n  </div>\r\n)\r\n\r\nexport default DropdownSelection\r\n","import React, { Component } from 'react'\r\nimport { List } from 'semantic-ui-react'\r\nimport './../styles/ObjList.css';\r\n\r\nexport default class ObjList extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.myRef = React.createRef();\r\n  }\r\n  componentDidMount() {\r\n    this.moveFocus(this.props);\r\n  }\r\n  moveFocus(propsData) {\r\n    const node = this.myRef.current;\r\n    node.addEventListener('keydown', function(e) {\r\n      const active = document.activeElement; \r\n      if(e.keyCode === 90 && active.nextSibling) {\r\n        active.nextSibling.focus()\r\n        propsData.data.forEach((dp) => {\r\n          if(active.tabIndex + 1 === dp.key){\r\n            propsData.onChange(dp.value);\r\n          }\r\n        });\r\n      }\r\n      if(e.keyCode === 65 && active.previousSibling) {\r\n        active.previousSibling.focus()\r\n        propsData.data.forEach((dp) => {\r\n          if(active.tabIndex - 1 === dp.key){\r\n            propsData.onChange(dp.value);\r\n          }\r\n        });\r\n      }\r\n    });\r\n  }\r\n\r\n  render() {\r\n    //console.log(\"myRef\", this.myRef);\r\n    return (\r\n      <div ref={this.myRef} className=\"Objects-List\">\r\n        <List selection verticalAlign='middle'>\r\n        {this.props.data.map((dp, index) => \r\n          <List.Item tabIndex={dp.key} key={dp.key} onClick={() => this.props.onChange(dp.value)}>\r\n            <List.Content>\r\n              <List.Header>\r\n                {dp.text}\r\n              </List.Header>\r\n            </List.Content>\r\n          </List.Item> )}\r\n        {/* onClick={() => this.handleClick(document.title)} */}\r\n        </List>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\n\r\n\r\n// const ListSelection = (props) => (\r\n//   <List selection verticalAlign='middle' className=\"Objects-List\">\r\n//       {props.data.map((dp, index) => \r\n//       <List.Item key={dp.key} onClick={() => props.onChange(dp.value)}>\r\n//         <List.Content>\r\n//           <List.Header>\r\n//             {dp.text}\r\n//           </List.Header>\r\n//         </List.Content>\r\n//       </List.Item> )}\r\n//       {/* onClick={() => this.handleClick(document.title)} */}\r\n//   </List>\r\n// )\r\n\r\n// export default ListSelection","import React from 'react'\r\nimport { Dimmer, Loader, Image, Segment } from 'semantic-ui-react'\r\nimport BackgroundImg from './../img/short-paragraph.png'\r\n\r\nconst LoaderCircle = () => (\r\n    <div>\r\n      <Segment className=\"Loader\">\r\n        <Dimmer active inverted>\r\n          <Loader inverted>Загрузка</Loader>\r\n        </Dimmer>\r\n  \r\n        <Image src={BackgroundImg} />\r\n      </Segment>\r\n    </div>\r\n  )\r\n  \r\n  export default LoaderCircle","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAnEAAABCCAMAAAAPInAgAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyFpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNS1jMDE0IDc5LjE1MTQ4MSwgMjAxMy8wMy8xMy0xMjowOToxNSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIChXaW5kb3dzKSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDo2NDZFOEY5NDREQTMxMUU0OEI0MDhCMEM5RjBBNDFEMyIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDo2NDZFOEY5NTREQTMxMUU0OEI0MDhCMEM5RjBBNDFEMyI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOjY0NkU4RjkyNERBMzExRTQ4QjQwOEIwQzlGMEE0MUQzIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjY0NkU4RjkzNERBMzExRTQ4QjQwOEIwQzlGMEE0MUQzIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+jI2B7AAAAF1QTFRFvL7AwMLEyMnL5ufoycrMxsjKwcPFzc7Q8PDx+fn68fHy0dLUyszNxsjJvsDB7+/w5OXmxMXH6uvrxsfJ+vr7wsTG+fn50NHTvsDCxcbIysvN7e3u4+Tl1dfY////DQ3b9AAAAB90Uk5T////////////////////////////////////////AM0ZdhAAAADiSURBVHja7NrHDcMwEEVBOknOOaf+y/TdhnkiFwI0U8Li3fany2kIUZpXmiSI0yoOxaE4UByKA8WhOBQHgcWtHIHQ4vbbEUR5PtIbIikOxaE4UByKA8WhOBQHikNxoDgUB4qjU8Xd0wD+Ws9LF2cDTNZUcSgOxSkOxaE4xaE4FIfiFIfiUJzi6GJxNzclZ1O6uKVPPhnX4p988xns41AcKA7FgeJQHIoDxaE4UByKA8WhOPpb3MECjHqa809xNsDULG6mOBSH4kBxKA4Uh+JQnOJQHL0pbrEbQy3t8bu4jwADAOWOuJvLET/EAAAAAElFTkSuQmCC\"","import React, {Component} from 'react';\r\nimport { Rest } from '../lib/Rest';\r\n\r\nimport DpList from './DpList';\r\nimport DropDownList from './DropDownList';\r\nimport ObjList from './ObjList';\r\nimport Loader from './Loader'\r\n\r\nimport './../styles/SideBar.css';\r\nimport './../Semantic-UI-CSS-master/semantic.css';\r\n\r\n\r\nexport default class SideBar extends Component {\r\n    state = {type: \"\", types: [], kust: \"\", kusts: [], objects: [], object: \"\", dps: [], needUpdate: false, needTransfer: false}\r\n/*\r\n    //Забираем с сервера типы объектов (СУЭЦН, ГЗУ, АИ и т.д.)\r\n    getTypes(cbTypes){\r\n        let url = \"https://26.175.60.155/getTypes\";\r\n        //192.168.30.103\r\n            fetch(url,{\r\n                method: \"GET\"\r\n            }).then(raw =>{\r\n                return raw.json();\r\n            }).then(response=>{\r\n                cbTypes(response);\r\n            }).catch((e) => {console.log('Error: ' + e.message); return alert(\"Невозможно считать типы объектов!\")});\r\n    };\r\n    \r\n    //Забираем с сервера список кустов    \r\n    getKusts(cbTypes){\r\n        let url = \"https://26.175.60.155/getKusts\";\r\n            fetch(url,{\r\n                method: \"GET\"\r\n            }).then(raw =>{\r\n                return raw.json();\r\n            }).then(response=>{\r\n                cbTypes(response);\r\n            }).catch((e) => {console.log('getKusts Error: ' + e.message); return alert(\"Невозможно считать список кустов!\")});\r\n    };\r\n    \r\n    //Забираем с сервера список объектов типа объекта (см getTypes)\r\n    getObjects(cbTypes){\r\n        let url = \"https://26.175.60.155/getObjects?\";\r\n        url += \"kust=\" + encodeURI(this.state.kust);\r\n        url += \"&type=\" + encodeURI(this.state.type);\r\n        fetch(url,{\r\n            method: \"GET\"\r\n        }).then(raw =>{\r\n            return raw.json();\r\n        }).then(response=>{\r\n            cbTypes(response);\r\n        }).catch((e) => console.log('Error: ' + e.message));\r\n        };\r\n*/\r\n    //Обновляем значение state.kust\r\n    updKust(value){\r\n        this.setState({ kust: value, needUpdate: true })\r\n    };\r\n\r\n    //Обновляем значение state.type\r\n    updType(value){\r\n        this.setState({ type: value, needUpdate: true })\r\n    };\r\n\r\n    //Обновляем значение state.object\r\n    updObject(value){\r\n        this.setState({ object: value, needTransfer: true })\r\n    }\r\n\r\n    //Обновляем dps.enable \r\n    updSelected(value){\r\n        let temp = this.state.dps;\r\n        temp[value-1].enabled = !temp[value-1].enabled\r\n        this.setState({dps: temp, needTransfer: true})\r\n    }\r\n\r\n    //При первом запуске получаем список кустов и типы объектов - записываем в state\r\n    componentDidMount(){\r\n        Rest.getKusts(response => { this.setState({ kusts: response.kusts }) });\r\n        Rest.getTypes(response => { this.setState({ types: response.types }) });  \r\n        // this.getKusts(response => { this.setState({ kusts: response.kusts }) });\r\n        // this.getTypes(response => { this.setState({ types: response.types }) });   \r\n    }\r\n    \r\n    //При необходимости (needUpdate: true) считываем список объектов и записываем в state\r\n    componentDidUpdate(){\r\n        if(this.state.needUpdate){\r\n            Rest.getObjects(this.state.kust, this.state.type, response => { this.setState({ objects: response.objects, dps: response.dps, needUpdate: false }) } );\r\n            // this.getObjects(response => { this.setState({ objects: response.objects, dps: response.dps, needUpdate: false }) });\r\n        }\r\n        \r\n        //При необходимости передаем данные в App.js\r\n        if(this.state.needTransfer) {\r\n            let transData = {kust: this.state.kust, dps: []}\r\n            this.state.dps.forEach(dp => { if(dp.enabled) { transData.dps.push(this.state.object + dp.dp) } })\r\n            this.props.transferData(transData);\r\n            this.setState({needTransfer: false})\r\n        } \r\n    }\r\n\r\n    \r\n\r\n\r\n    //Для отрисовки frontend\r\n    render(){\r\n        //console.log(\"state.kusts\", this.state.kusts);\r\n        return(\r\n            <div className=\"ControlDiv\">\r\n                {(this.state.kusts.length !== 0) ? <DropDownList data={this.state.kusts} label=\"Номер куста\" onChange={(e, {value}) => this.updKust(value)}/> : < Loader />}\r\n                {(this.state.types.length !== 0) ? <DropDownList data={this.state.types} label=\"Объект\" onChange={(e, {value}) => this.updType(value)}/> : < Loader />}\r\n                {(this.state.objects.length !== 0) ? <ObjList data={this.state.objects} onChange={(value) => this.updObject(value)}/> : \"\"}\r\n                {(this.state.objects.length !== 0) ? <DpList data={this.state.dps} onChange={(key) => this.updSelected(key)} /> : \"\"}\r\n            </div>\r\n        )\r\n    }\r\n}","import React, {Component} from 'react';\r\nimport DateTimeRangePicker from '@wojtekmaj/react-datetimerange-picker';\r\n\r\nexport default class TimePicker extends Component{\r\n    //state = {value: [new Date(), new Date()]}\r\n\r\n    render(){\r\n        return(\r\n            <DateTimeRangePicker \r\n                value = {[this.props.dateStart, this.props.dateEnd]}\r\n                onChange={this.props.onChange}\r\n                className=\"DateTimeRangePicker\"\r\n                format = \"dd.MM.y HH:mm:ss\"\r\n                disableClock = {true}\r\n                disabled = {this.props.disabled}\r\n                clearIcon = {null}\r\n            />\r\n        )\r\n    }\r\n}","import React from \"react\";\r\nimport * as d3 from \"d3\";\r\n\r\nexport default class Trends extends React.Component {\r\n\r\n    componentDidMount() {\r\n        this.updateChart();\r\n    }\r\n\r\n    componentDidUpdate() {\r\n        this.updateChart();\r\n    }\r\n\r\n    sortByDateAscending(a, b) {\r\n        // Dates will be cast to numbers automagically:\r\n        return a.date - b.date;\r\n        }\r\n\r\n    getWindowDimensions() {\r\n        const { innerWidth: width, innerHeight: height } = window;\r\n        return {\r\n            width,\r\n            height\r\n        };\r\n        }\r\n    \r\n    createChart = (d, width, height, allKeys, margin, n) => {\r\n\r\n        let locale = d3.timeFormatLocale({\r\n            \"dateTime\": \"%A, %e %B %Y г. %X\",\r\n            \"date\": \"%d.%m.%Y\",\r\n            \"time\": \"%H:%M:%S\",\r\n            \"periods\": [\"AM\", \"PM\"],\r\n            \"days\": [\"воскресенье\", \"понедельник\", \"вторник\", \"среда\", \"четверг\", \"пятница\", \"суббота\"],\r\n            \"shortDays\": [\"вс\", \"пн\", \"вт\", \"ср\", \"чт\", \"пт\", \"сб\"],\r\n            \"months\": [\"января\", \"февраля\", \"марта\", \"апреля\", \"мая\", \"июня\", \"июля\", \"августа\", \"сентября\", \"октября\", \"ноября\", \"декабря\"],\r\n            \"shortMonths\": [\"янв\", \"фев\", \"мар\", \"апр\", \"май\", \"июн\", \"июл\", \"авг\", \"сен\", \"окт\", \"ноя\", \"дек\"]\r\n        });\r\n\r\n        let formatMillisecond = locale.format(\".%L\"),\r\n        formatSecond = locale.format(\":%S\"),\r\n        formatMinute = locale.format(\"%I:%M\"),\r\n        formatHour = locale.format(\"%I %p\"),\r\n        formatDay = locale.format(\"%a %d\"),\r\n        formatWeek = locale.format(\"%b %d\"),\r\n        formatMonth = locale.format(\"%B\"),\r\n        formatYear = locale.format(\"%Y\");\r\n\r\n        let formatFocusTextDate = d3.timeFormat(\"%d-%m-%y %H:%M:%S\")\r\n\r\n        const svg = d3.select(\"#my_dataviz\")\r\n        .append(\"svg\")\r\n            .attr(\"width\", width + margin.left + margin.right)\r\n            .attr(\"height\", height + margin.top + margin.bottom)\r\n        .append(\"g\")\r\n            .attr(\"transform\", `translate(${margin.left}, ${margin.top})`);\r\n        \r\n        let x = d3.scaleTime()\r\n            .domain(d3.extent(d, function(d) { return d.date; }))\r\n            .range([ 0, width ]);\r\n\r\n        let y = d3.scaleLinear()\r\n            .domain([d3.min(d, function(d) { return +d.value; }) - (d3.min(d, function(d) { return +d.value; })*0.002), \r\n                d3.max(d, function(d) { return +d.value; }) + (d3.max(d, function(d) { return +d.value; })*0.003)])\r\n            .range([ height, 0 ]);\r\n\r\n        let xAxis = svg.append(\"g\")\r\n            .attr(\"transform\", `translate(0, ${height})`)\r\n            .call(d3.axisBottom(x).tickFormat(multiFormat));\r\n        \r\n        let yAxis = svg.append(\"g\")\r\n            .call(d3.axisLeft(y).ticks(5));\r\n\r\n        // const color = d3.scaleOrdinal(d3.schemeAccent);\r\n        // const color = d3.scaleOrdinal()\r\n        // .range(['#e41a1c','#377eb8','#1f3999','#72277d','#ff7f00','#ffff33','#8a3f15','#e64c9d','#999999', '#080606']);\r\n        const color = ['#e41a1c','#377eb8','#1f3999','#72277d','#ff7f00','#ffff33','#8a3f15','#e64c9d','#999999', '#080606']\r\n\r\n        var bisect = d3.bisector(function(d) { return d.date; }).left;\r\n        \r\n        svg\r\n        .append('text')\r\n        .text(d[0].param)\r\n        .attr(\"x\", 0)\r\n        .attr(\"y\", 0)\r\n        .attr('dominant-baseline', 'hanging')\r\n        .attr('text-anchor', 'start')\r\n        .attr('fill', 'black')\r\n        .attr('stroke', 'black')\r\n        .attr(\"font-size\", '1.2em')\r\n        .attr('opacity', 0.5);\r\n\r\n        // Create the circle that travels along the curve of chart\r\n        let focus = svg\r\n        .append('g')\r\n        .append('circle')\r\n            .style(\"fill\", \"none\")\r\n            .attr(\"stroke\", \"black\")\r\n            .attr('r', 5)\r\n            .style(\"fill\", \"black\")\r\n            .style(\"opacity\", 0)\r\n        \r\n        // Create the text that travels along the curve of chart\r\n        var focusText = svg\r\n        .append('g')\r\n        .append('text')\r\n            .style(\"opacity\", 0)\r\n            .attr(\"text-anchor\", \"left\")\r\n            .attr(\"alignment-baseline\", \"middle\")\r\n        \r\n        let rect = svg.append(\"rect\")\r\n        .style(\"fill\", \"none\")\r\n        .style(\"pointer-events\", \"all\")\r\n        .attr(\"width\", width)\r\n        .attr(\"height\", height)\r\n        .on(\"mousemove\", (event) => {\r\n            let x0 = x.invert(d3.pointer(event)[0])\r\n            var i = bisect(d, x0, 1);\r\n            let SelectedData = d[i]\r\n            focus\r\n                .attr(\"cx\", x(SelectedData.date))\r\n                .attr(\"cy\", y(SelectedData.value))\r\n                .style(\"opacity\", 1)\r\n            focusText\r\n                .html(\"Дата: \" + formatFocusTextDate(SelectedData.date) + \"     \" + \"Значение: \" + SelectedData.value)\r\n                //.attr(\"x\", x(SelectedData.date)-74)\r\n                //.attr(\"y\", y(SelectedData.value)-40)\r\n                .attr(\"x\", 5)\r\n                .attr(\"y\", height-10)\r\n                .style(\"opacity\", 1)\r\n        })    \r\n\r\n        const clip = svg.append(\"defs\").append(\"svg:clipPath\")\r\n        .attr(\"id\", \"clip\")\r\n            .append(\"svg:rect\")\r\n            .attr(\"width\", width )\r\n            .attr(\"height\", height )\r\n            .attr(\"x\", 0)\r\n            .attr(\"y\", 0);\r\n        \r\n        const brush = d3.brushX()                   // Add the brush feature using the d3.brush function\r\n            .extent( [ [0,height-50], [width,height] ] )  // initialise the brush area: start at 0,0 and finishes at width,height: it means I select the whole graph area\r\n            .on(\"end\", updateChart)               // Each time the brush selection changes, trigger the 'updateChart' function\r\n\r\n        const line = svg.append('g')\r\n            .attr(\"clip-path\", \"url(#clip)\")\r\n\r\n        // Add the line\r\n        line.append(\"path\")\r\n            .datum(d)\r\n            .attr(\"class\", \"line\")  // I add the class line to be able to modify this line later on.\r\n            .attr(\"fill\", \"none\")\r\n            .attr(\"stroke\", function(d, i){ return color[n] })\r\n            .attr(\"stroke-width\", 1.5)\r\n            .attr(\"d\", d3.line()\r\n                .curve(d3.curveStepAfter)\r\n                .x(function(d) { return x(d.date) })\r\n                .y(function(d) { return y(d.value) })\r\n            )\r\n        \r\n        // Add the brushing\r\n        line\r\n            .append(\"g\")\r\n            //.style(\"fill\", \"yellow\")\r\n            //.style(\"opacity\", \"0.01\")\r\n            .style(\"border\", \"solid 2px red\")\r\n            .attr(\"class\", \"brush\")\r\n            .call(brush);\r\n        \r\n        // A function that set idleTimeOut to null\r\n        let idleTimeout\r\n        function idled() { idleTimeout = null; }\r\n\r\n        // A function that update the chart for given boundaries\r\n        function updateChart(event,d) {\r\n\r\n            // What are the selected boundaries?\r\n            var extent = event.selection\r\n    \r\n            // If no selection, back to initial coordinate. Otherwise, update X axis domain\r\n            if(!extent){\r\n            if (!idleTimeout) return idleTimeout = setTimeout(idled, 350); // This allows to wait a little bit\r\n            x.domain([ 4,5])\r\n            }else{\r\n            x.domain([ x.invert(extent[0]), x.invert(extent[1]) ])\r\n            line.select(\".brush\").call(brush.move, null) // This remove the grey brush area as soon as the selection has been done\r\n            }\r\n    \r\n            // Update axis and line position\r\n            xAxis.transition().duration(1000).call(d3.axisBottom(x).tickFormat(multiFormat))\r\n            line\r\n                .select('.line')\r\n                .transition()\r\n                .duration(1000)\r\n                .attr(\"d\", d3.line()\r\n                .curve(d3.curveStepAfter)\r\n                .x(function(d) { return x(d.date) })\r\n                .y(function(d) { return y(d.value) })\r\n                )\r\n            focus.style(\"opacity\", 0)\r\n            focusText.style(\"opacity\", 0)\r\n        }\r\n\r\n        // If user double click, reinitialize the chart\r\n        svg.on(\"dblclick\",function(){\r\n            x.domain(d3.extent(d, function(d) { return d.date; }))\r\n            xAxis.transition().call(d3.axisBottom(x).tickFormat(multiFormat))\r\n            line\r\n                .select('.line')\r\n                .transition()\r\n                .attr(\"d\", d3.line()\r\n                .curve(d3.curveStepAfter)\r\n                .x(function(d) { return x(d.date) })\r\n                .y(function(d) { return y(d.value) })\r\n                )\r\n            focus.style(\"opacity\", 0)\r\n            focusText.style(\"opacity\", 0)\r\n        });\r\n        \r\n        function multiFormat(date) {\r\n            return (d3.timeSecond(date) < date ? formatMillisecond\r\n                : d3.timeMinute(date) < date ? formatSecond\r\n                : d3.timeHour(date) < date ? formatMinute\r\n                : d3.timeDay(date) < date ? formatHour\r\n                : d3.timeMonth(date) < date ? (d3.timeWeek(date) < date ? formatDay : formatWeek)\r\n                : d3.timeYear(date) < date ? formatMonth\r\n                : formatYear)(date);\r\n          }\r\n\r\n    }\r\n\r\n    updateChart(){\r\n        d3.select(\"#my_dataviz\").selectAll(\"*\").remove();\r\n\r\n        let contentH = d3.select(\"#content\").node().getBoundingClientRect().height;\r\n        let contentW = d3.select(\"#content\").node().getBoundingClientRect().width;\r\n        let heightW = d3.select(\"#root\").node().getBoundingClientRect().height; //window\r\n        let test = heightW - contentH;\r\n        //console.log(\"d3 test\", contentH, heightW, test);\r\n        let d = this.props.data;\r\n        // set the dimensions and margins of the graph\r\n        let margin = {top: 30, right: 50, bottom: 30, left: 50},\r\n        //width = 810 - margin.left - margin.right\r\n        width = contentW - margin.left - margin.right;\r\n        //Read the data\r\n        try{\r\n            d.forEach(function(data){\r\n                data.date = new Date(data.date)\r\n                data.value = +data.value\r\n                //data.param = data.param\r\n            });\r\n        \r\n        \r\n            d = d.sort(this.sortByDateAscending)\r\n            \r\n            let sumstat = d3.group(d, data => data.param);;\r\n            sumstat = new Map([...sumstat.entries()].sort()); //sort\r\n            // What is the list of groups?\r\n            let allKeys = new Set(d.map(data=>data.param));\r\n            allKeys = new Set([...allKeys.entries()].sort()); //sort\r\n            let height = (test - margin.top - margin.bottom - 60*allKeys.size) / allKeys.size;\r\n            let n = 0;\r\n            allKeys.forEach(data => {\r\n                this.createChart(sumstat.get(data[0]), width, height, allKeys, margin, n);\r\n                n++;\r\n            })\r\n        }\r\n        catch{}\r\n    }\r\n    render(){\r\n        console.log(\"data_from_kaskad\", this.props.data);\r\n        return(\r\n            <div id=\"my_dataviz\"></div>\r\n        )\r\n    }\r\n}","import React from \"react\";\r\nimport * as d3 from \"d3\";\r\nimport { Routes, Route } from \"react-router-dom\";\r\n\r\nexport default class Trends extends React.Component {\r\n\r\n    componentDidMount() {\r\n        this.updateChart();\r\n    }\r\n\r\n    componentDidUpdate() {\r\n        this.updateChart();\r\n    }\r\n\r\n    sortByDateAscending(a, b) {\r\n        // Dates will be cast to numbers automagically:\r\n        return a.date - b.date;\r\n    }\r\n\r\n    getWindowDimensions() {\r\n        const { innerWidth: width, innerHeight: height } = window;\r\n        return {\r\n            width,\r\n            height\r\n        };\r\n    }\r\n\r\n    createCharts = (sumstat, d, width, height, allKeys, margin) => {\r\n\r\n        let locale = d3.timeFormatLocale({\r\n            \"dateTime\": \"%A, %e %B %Y г. %X\",\r\n            \"date\": \"%d.%m.%Y\",\r\n            \"time\": \"%H:%M:%S\",\r\n            \"periods\": [\"AM\", \"PM\"],\r\n            \"days\": [\"воскресенье\", \"понедельник\", \"вторник\", \"среда\", \"четверг\", \"пятница\", \"суббота\"],\r\n            \"shortDays\": [\"вс\", \"пн\", \"вт\", \"ср\", \"чт\", \"пт\", \"сб\"],\r\n            \"months\": [\"января\", \"февраля\", \"марта\", \"апреля\", \"мая\", \"июня\", \"июля\", \"августа\", \"сентября\", \"октября\", \"ноября\", \"декабря\"],\r\n            \"shortMonths\": [\"янв\", \"фев\", \"мар\", \"апр\", \"май\", \"июн\", \"июл\", \"авг\", \"сен\", \"окт\", \"ноя\", \"дек\"]\r\n        });\r\n\r\n        let formatMillisecond = locale.format(\".%L\"),\r\n        formatSecond = locale.format(\":%S\"),\r\n        formatMinute = locale.format(\"%I:%M\"),\r\n        formatHour = locale.format(\"%I %p\"),\r\n        formatDay = locale.format(\"%a %d\"),\r\n        formatWeek = locale.format(\"%b %d\"),\r\n        formatMonth = locale.format(\"%B\"),\r\n        formatYear = locale.format(\"%Y\");\r\n\r\n        let formatFocusTextDate = d3.timeFormat(\"%d-%m-%y %H:%M:%S\")\r\n\r\n        let legendName = [];\r\n        allKeys.forEach(data => {\r\n            legendName.push(data[0])\r\n        });\r\n            \r\n        // color palette\r\n        const color = d3.scaleOrdinal()\r\n        .range(['#e41a1c','#377eb8','#1f3999','#72277d','#ff7f00','#ffff33','#8a3f15','#e64c9d','#999999', '#080606'])\r\n        const colorM = ['#e41a1c','#377eb8','#1f3999','#72277d','#ff7f00','#ffff33','#8a3f15','#e64c9d','#999999', '#080606']\r\n\r\n        // append the svg object to the body of the page\r\n        const svg = d3.select(\"#my_dataviz\")\r\n        .append(\"svg\")\r\n            .attr(\"width\", width + margin.left + margin.right)\r\n            .attr(\"height\", height + margin.top + margin.bottom)\r\n        .append(\"g\")\r\n            .attr(\"transform\", `translate(${margin.left},${margin.top})`);\r\n\r\n        // Add X --> it is a date format\r\n        let x = d3.scaleTime()\r\n            .domain(d3.extent(d, function(d) { return d.date; }))\r\n            .range([ 0, width ]);\r\n        // Add Y\r\n        let y = d3.scaleLinear()\r\n            .domain([d3.min(d, function(d) { return +d.value; }) - (d3.min(d, function(d) { return +d.value; })*0.002), d3.max(d, function(d) { return +d.value; })])\r\n            .range([ height, 0 ]);\r\n        // Add X axis\r\n        let xAxis = svg.append(\"g\")\r\n            .attr(\"transform\", `translate(0, ${height})`)\r\n            .call(d3.axisBottom(x).tickFormat(multiFormat));\r\n        // Add Y axis\r\n        let yAxis = svg.append(\"g\")\r\n            .call(d3.axisLeft(y).ticks(5));\r\n\r\n        // Draw the line\r\n        let line = svg.selectAll(\".line\")\r\n            .data(sumstat)\r\n            .join(\"path\")\r\n            .attr(\"fill\", \"none\")\r\n            .attr(\"class\", \"line\")\r\n            .attr(\"stroke\", function(d){ return color(d[0]) })\r\n            .attr(\"stroke-width\", 1.5)\r\n            .attr(\"d\", function(d){\r\n                return d3.line()\r\n                .x(function(d) { return x(d.date); })\r\n                .y(function(d) { return y(d.value); })\r\n                (d[1])\r\n            })\r\n        \r\n        //start - Legend - start\r\n        svg.selectAll(\"rect\")\r\n            .data(legendName)\r\n            .enter().append(\"rect\")\r\n            .attr(\"x\", width - 200)\r\n            .attr(\"y\", function(d, i){ return i * 20})\r\n            .attr(\"width\", 10)\r\n            .attr(\"height\", 10)\r\n            .style(\"fill\", function(d, i) { return colorM[i] })\r\n\r\n        svg.selectAll(\"text.legend-text\")\r\n            .data(legendName)\r\n            .enter().append(\"text\")\r\n            .attr(\"x\", width - 180)\r\n            .attr(\"y\", function(d, i){ return (i * 20) + 9})\r\n            .text(function(d, i) { return legendName[i] })\r\n        //end - Legend - end\r\n        \r\n        //start - pointer - start\r\n        let mouseG = svg.append(\"g\")\r\n            .attr(\"class\", \"mouse-over-effects\");\r\n\r\n        mouseG.append(\"path\") // this is the black vertical line to follow mouse\r\n            .attr(\"class\", \"mouse-line\")\r\n            .style(\"stroke\", \"black\")\r\n            .style(\"stroke-width\", \"1px\")\r\n            .style(\"opacity\", \"0\");\r\n\r\n        let lines = document.getElementsByClassName('line');\r\n\r\n        let mousePerLine = mouseG.selectAll('.mouse-per-line')\r\n            .data(sumstat)\r\n            .enter()\r\n            .append(\"g\")\r\n            .attr(\"class\", \"mouse-per-line\");\r\n\r\n        mousePerLine.append(\"circle\")\r\n            .attr(\"r\", 7)\r\n            .style(\"stroke\", function(d) {\r\n                return color(d.name);\r\n            })\r\n            .style(\"fill\", \"none\")\r\n            .style(\"stroke-width\", \"1px\")\r\n            .style(\"opacity\", \"0\");\r\n    \r\n        mousePerLine.append(\"text\")\r\n            .attr(\"transform\", \"translate(10,3)\")\r\n\r\n        mouseG.append('svg:rect') // append a rect to catch mouse movements on canvas\r\n            .attr('width', width) // can't catch mouse events on a g element\r\n            .attr('height', height)\r\n            .attr('fill', 'none')\r\n            .attr('pointer-events', 'all')\r\n            .on('mouseover', function() { // on mouse in show line, circles and text\r\n                d3.select(\".mouse-line\")\r\n                  .style(\"opacity\", \"1\");\r\n                d3.selectAll(\".mouse-per-line circle\")\r\n                  .style(\"opacity\", \"1\");\r\n                d3.selectAll(\".mouse-per-line text\")\r\n                  .style(\"opacity\", \"1\");\r\n              })\r\n              \r\n              .on('mousemove', function(event) { // mouse moving over canvas\r\n                let mouse = d3.pointer(event);\r\n                d3.select(\".mouse-line\")\r\n                  .attr(\"d\", function() {\r\n                    var d = \"M\" + mouse[0] + \",\" + height;\r\n                    d += \" \" + mouse[0] + \",\" + 0;\r\n                    return d;\r\n                  });\r\n        \r\n                d3.selectAll(\".mouse-per-line\")\r\n                  .attr(\"transform\", function(d, i) {\r\n                    let xDate = x.invert(mouse[0]),\r\n                    bisect = d3.bisector(function(d) { return d.date; }).right;\r\n                    let idx = bisect(d.values, xDate);\r\n                    \r\n                    let beginning = 0,\r\n                        end = d3.select(lines[i]).node().getTotalLength(),\r\n                        target,\r\n                        pos;\r\n        \r\n                    while (true){\r\n                      target = Math.floor((beginning + end) / 2);\r\n                      pos = d3.select(lines[i]).node().getPointAtLength(target);\r\n                      if ((target === end || target === beginning) && pos.x !== mouse[0]) {\r\n                          break;\r\n                      }\r\n                      if (pos.x > mouse[0]) end = target;\r\n                      else if (pos.x < mouse[0]) beginning = target;\r\n                      else break; //position found\r\n                    }\r\n                    \r\n                    d3.select(this).select('text')\r\n                      .text(y.invert(pos.y).toFixed(2))\r\n                      .attr(\"font-weight\", \"bold\")\r\n                      \r\n                    return \"translate(\" + mouse[0] + \",\" + pos.y +\")\";\r\n                  });\r\n              });\r\n        //end - pointer - end\r\n\r\n    //add zoom\r\n\r\n//===================================================== mb need in future\r\n        // svg.append(\"rect\")\r\n        // .attr('x', width - 200)\r\n        // .attr('y', function(d, i){ return i *  20;})\r\n        // .attr('width', 10)\r\n        // .attr('height', 10)\r\n        // .style(\"fill\", function(d, i) { return colorM[i] });\r\n\r\n        // svg.append(\"text\")\r\n        // .attr('x', width - 180)\r\n        // .attr('y', function(d, i){ return (i *  20) + 9;})\r\n        // .text(function(d, i) { return legendName[i] });\r\n\r\n        /* Пока что работает не очень и занимает много места\r\n        const legend = d3.select(\".Trends\").append(\"div\")\r\n                .attr(\"class\", \"legends\")\r\n            // .append(\"svg\")\r\n            //     .attr(\"class\", \"legend\")\r\n            //     .attr(\"width\", 300)\r\n            //     .attr(\"height\", 80)\r\n\r\n        legend.selectAll(\"circle\")\r\n            .data(legendName)\r\n            .enter().append(\"div\")\r\n                .attr(\"class\", \"legend\")\r\n            .append(\"svg\")\r\n                .attr(\"width\", 300)\r\n                .attr(\"height\", 80)\r\n            .append(\"circle\")\r\n                .attr(\"cx\", 10)                 \r\n                .attr(\"cy\", function(d, i) { return 15 + i*10 })\r\n                .attr(\"r\", 6)\r\n                .style(\"fill\", function(d, i) { return colorM[i] })\r\n\r\n        legend.selectAll(\"text\")\r\n            .data(legendName)\r\n            .enter().append(\"text\")\r\n                .attr(\"x\", 25)\r\n                .attr(\"y\", function(d, i) { return 15 + i*10 })\r\n                .text(function(d, i) { return legendName[i] })\r\n                .style(\"font-size\", \"15px\")\r\n                .attr(\"alignment-baseline\",\"middle\")\r\n        */\r\n        //legend.append(\"text\").attr(\"x\", 25).attr(\"y\", 15).text(legendName[0]).style(\"font-size\", \"15px\").attr(\"alignment-baseline\",\"middle\")\r\n        // const legend = d3.select(\".Trends\").append(\"div\")\r\n        //     .append(\"svg\")\r\n        //     .attr(\"class\", \"legends\")\r\n        //     .attr(\"width\", width + margin.left + margin.right)\r\n        //     .attr(\"height\", 80)\r\n        // legend.append(\"circle\").attr(\"cx\",30).attr(\"cy\",10).attr(\"r\", 6).style(\"fill\", \"#e41a1c\")\r\n        // legend.append(\"circle\").attr(\"cx\",30).attr(\"cy\",30).attr(\"r\", 6).style(\"fill\", \"#377eb8\")\r\n        // legend.append(\"text\").attr(\"x\", 50).attr(\"y\", 10).text(legendName[0]).style(\"font-size\", \"15px\").attr(\"alignment-baseline\",\"middle\")\r\n        // legend.append(\"text\").attr(\"x\", 50).attr(\"y\", 30).text(legendName[1]).style(\"font-size\", \"15px\").attr(\"alignment-baseline\",\"middle\")\r\n//==================================================================================================\r\n        function multiFormat(date) {\r\n            return (d3.timeSecond(date) < date ? formatMillisecond\r\n                : d3.timeMinute(date) < date ? formatSecond\r\n                : d3.timeHour(date) < date ? formatMinute\r\n                : d3.timeDay(date) < date ? formatHour\r\n                : d3.timeMonth(date) < date ? (d3.timeWeek(date) < date ? formatDay : formatWeek)\r\n                : d3.timeYear(date) < date ? formatMonth\r\n                : formatYear)(date);\r\n            }\r\n\r\n    }\r\n    \r\n    updateChart(){\r\n        d3.select(\"#my_dataviz\").selectAll(\"*\").remove();\r\n        d3.select(\".Trends\").select(\".legends\").remove();\r\n\r\n        let contentH = d3.select(\"#content\").node().getBoundingClientRect().height;\r\n        let contentW = d3.select(\"#content\").node().getBoundingClientRect().width;\r\n        let heightW = d3.select(\"#root\").node().getBoundingClientRect().height; //window\r\n        let test = heightW - contentH;\r\n        let d = this.props.data;\r\n        // set the dimensions and margins of the graph\r\n        let margin = {top: 30, right: 70, bottom: 50, left: 70},\r\n        width = contentW - margin.left - margin.right;\r\n        //Read the data\r\n        try{\r\n            d.forEach(function(data){\r\n                data.date = new Date(data.date)\r\n                data.value = +data.value\r\n                data.param = data.param\r\n            });\r\n        \r\n        \r\n            d = d.sort(this.sortByDateAscending)\r\n            \r\n            let sumstat = d3.group(d, data => data.param);;\r\n            sumstat = new Map([...sumstat.entries()].sort()); //sort\r\n            // What is the list of groups?\r\n            let allKeys = new Set(d.map(data=>data.param));\r\n            allKeys = new Set([...allKeys.entries()].sort()); //sort\r\n            //let height = (test - margin.top - margin.bottom - 60*allKeys.size) / allKeys.size;\r\n            let height = test- margin.top - margin.bottom - 100;\r\n            this.createCharts(sumstat, d, width, height, allKeys, margin);\r\n        }\r\n        catch{}\r\n    }\r\n\r\n    render(){\r\n        console.log(\"data_from_kaskad\", this.props.data);\r\n        return(\r\n            <div id=\"my_dataviz\"></div>\r\n        )\r\n    }\r\n}","import React, {Component} from 'react';\r\nimport TimePicker from './TimePicker';\r\nimport DropDownList from './DropDownList';\r\n//import Trends from './Trends';\r\n//import TrendsZoom from './Trends_zoom';\r\nimport TrendsZoomAndPointer from './Trends_zoom_and_pointer';\r\nimport TrendsInOneChart from './Trends_multiple_in_one_chart';\r\n// import Loader from './Loader'\r\nimport {Button} from 'semantic-ui-react'\r\nimport {Rest} from '../lib/Rest';\r\nimport { Switch, Routes, Route } from \"react-router-dom\";\r\n\r\nimport './../styles/ContentDiv.css';\r\nimport './../Semantic-UI-CSS-master/semantic.css';\r\n\r\nexport default class ContentDiv extends Component {\r\n\r\n    state = {dateStart: new Date(), dateEnd: new Date(), disabled: false, data: [], dps: [], needUpdate: false};\r\n    interval;\r\n\r\n    updateStates(response){\r\n        this.setState({data: response.data, dps: this.props.data.dps, needUpdate: false,\r\n            dateStart: new Date(this.state.dateStart.setMilliseconds(this.state.dateStart.getMilliseconds() + 2000)),\r\n            dateEnd: new Date(this.state.dateEnd.setMilliseconds(this.state.dateEnd.getMilliseconds() + 2000))\r\n         })\r\n    }\r\n\r\n    componentDidUpdate(){ \r\n        if((this.props.data.dps.length > 0 & this.state.dateStart < this.state.dateEnd & this.props.data.dps !== this.state.dps) || this.state.needUpdate){\r\n            clearInterval(this.interval)\r\n            Rest.getHistory(this.props.data.kust, this.state.dateStart, this.state.dateEnd, this.props.data.dps, response => \r\n                {this.setState({data: response.data, dps: this.props.data.dps, needUpdate: false})})\r\n            //this.getHistory(response => { this.setState({data: response.data, dps: this.props.data.dps, needUpdate: false})});\r\n            if(this.state.disabled){\r\n                this.interval = setInterval(() => {Rest.getHistory(this.props.data.kust,  this.state.dateStart, this.state.dateEnd, this.props.data.dps, response => \r\n                    {this.updateStates(response)})}, 2000)\r\n            }\r\n        }\r\n    }\r\n\r\n    setTime(value) {\r\n        if(value !== 99 & value <= 24){\r\n            this.setState({dateStart: new Date(new Date().setHours(new Date().getHours() - value)), dateEnd: new Date(), disabled: true})    \r\n        }\r\n        else if(value > 100 & value < 160){\r\n            this.setState({dateStart: new Date(new Date().setMinutes(new Date().getMinutes() - (value - 100))), dateEnd: new Date(), disabled: true})    \r\n        }\r\n        else{\r\n            this.setState({disabled: false})\r\n        }\r\n        \r\n    }\r\n\r\n    constructor(props){\r\n        super(props)\r\n        this.dropDownData = [{key: 1, text: \"За час\", value: 1 },\r\n        {key: 2, text: \"За 5 минут\", value: 105 },\r\n        {key: 3, text: \"За сутки\", value: 24 },\r\n        {key: 4, text: \"Свободный выбор\", value: 99 }];\r\n    }\r\n\r\n    render(){\r\n        console.log(\"dateStart\", this.state.dateStart, \"dateEnd\", this.state.dateEnd);\r\n        return(\r\n            <div className=\"ContentDiv\" id=\"content\">\r\n                <div className = \"HeaderDiv\">\r\n                    <div className = \"Picker\">\r\n                        <div className=\"TimePicker\">\r\n                            <TimePicker\r\n                                dateStart = {this.state.dateStart} dateEnd = {this.state.dateEnd}\r\n                                disabled = {this.state.disabled}\r\n                                onChange={(data) => this.setState({dateStart: data[0], dateEnd: data[1]})}\r\n                            />\r\n                        </div>\r\n                        <div className = \"DropDownDate\">\r\n                            {(this.dropDownData.length !== 0) ? <DropDownList label=\"Time\" data = {this.dropDownData} onChange={(e, {value}) => this.setTime(value)} />: \"\"}\r\n                        </div>\r\n                        <div className=\"Button\">\r\n                            <Button onClick={() => this.setState({needUpdate: true})}  content='Обновить' />\r\n                        </div>\r\n                    </div>\r\n                    <div className = \"Trends\">\r\n                        <Routes>\r\n                            {/* <Route path=\"/\" element={(this.state.data.length !== 0) ? < TrendsZoomAndPointer data={this.state.data} /> : <h1>Нет данных</h1>} /> */}\r\n                            <Route path=\"/qwerty/:sys/:num\" element={(this.state.data.length !== 0) ? < TrendsInOneChart data={this.state.data} /> : <h1>Нет данных</h1>} /> \r\n                            <Route path=\"/qwerty\" element={(this.state.data.length !== 0) ? < TrendsZoomAndPointer data={this.state.data} /> : <h1>Нет данных</h1>} />\r\n                        </Routes>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}","import React, { useState } from 'react';\nimport './styles/App.css';\n\nimport SideBar from './components/SideBar';\nimport ContentDiv from './components/ContenDiv';\n\nconst App = () => {\n  const [data, setdata] = useState({ kust: \"\", dps: [] });\n  return (\n    <div className=\"App\"> \n      <SideBar transferData={object => setdata(object)}/>\n      <ContentDiv data={data}/>\n    </div>\n  );\n}\n\n// function App() {\n//   const [data, setdata] = useState({ kust: \"\", dps: [] });\n//   return (\n//     <div className=\"App\"> \n//       <SideBar transferData={object => setdata(object)}/>\n//       <ContentDiv data={data}/>\n//     </div>\n//   );\n// }\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter, HashRouter } from 'react-router-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render((\n  //<React.StrictMode>\n  <HashRouter>\n    <App />\n  </HashRouter>\n  //</React.StrictMode>,\n), document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}